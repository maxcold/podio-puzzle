var BEMHTML=function(){var e,t=function(t){function n(){var e=this,t=this._mode;if(t==="attrs"){var t=this.block;if(t==="organization")return this.elem==="icon"?this.ctx.src?{style:"background-image: url("+this.ctx.src+");"}:"":r.call(this);if(t==="space-switcher-filter")return this.elem==="input"?{type:"text",value:"",placeholder:"Search for spaces"}:r.call(this);if(t==="menu")return this.elem==="link"?{href:this.ctx.url}:r.call(this);if(t==="logo")return this.elem==="no-image"?{href:"http://podio.com"}:r.call(this);if(t==="b-page"){var t=this.elem;return t==="js"?!this.ctx.url==0?{src:this.ctx.url}:r.call(this):t==="css"?!this.ctx.url==0?{rel:"stylesheet",href:this.ctx.url}:r.call(this):t==="favicon"?{rel:"shortcut icon",href:this.ctx.url}:t==="meta"?this.ctx.attrs:r.call(this)}return r.call(this)}if(t==="tag"){var t=this.block;if(t==="space-switcher-filter")return this.elem==="input"?"input":s.call(this);if(t==="menu"){var t=this.elem;return t==="link"?"a":t==="item"?"li":!!this.elem==0?"ul":s.call(this)}if(t==="logo")return this.elem==="no-image"?"a":!!this.elem==0?"h1":s.call(this);if(t==="header")return!!this.elem==0?"header":s.call(this);if(t==="space-switcher")return this.elem==="arrow"?"span":s.call(this);if(t==="b-page"){var t=this.elem;return t==="js"?"script":t==="css"?!this.ctx.url==0?"link":"style":t==="favicon"?"link":t==="meta"?"meta":t==="head"?"head":t==="root"?"html":!!this.elem==0?"body":s.call(this)}return t==="i-ua"?!!this.elem==0?"script":s.call(this):s.call(this)}if(t==="bem"){var t=this.block;if(t==="b-page"){var t=this.elem;return t==="js"||t==="css"||t==="favicon"||t==="meta"||t==="head"||t==="root"?!1:o.call(this)}return t==="i-ua"?!!this.elem==0?!1:o.call(this):o.call(this)}if(t==="default"){var t=this.block;if(t==="b-page")return this.elem==="css"?!this.ctx.hasOwnProperty("ie")==0?!!this.ctx._ieCommented==0?u.call(this):a.call(this):a.call(this):a.call(this);if(t==="i-jquery"){if(this.elem==="core"){var f,p,d;return"",f=this._mode,this._mode="",p=this.ctx,this.ctx={block:"b-page",elem:"js",url:"//yandex.st/jquery/1.7.2/jquery.min.js"},d=n.call(e),this._mode=f,this.ctx=p,"",d}return h.call(this)}return h.call(this)}if(t==="content"){var t=this.block;return t==="space-switcher-filter"?this.elem==="spaces"?{elem:"spaces-inner",content:this.ctx.content}:i.call(this):t==="logo"?!!this.elem==0?{elem:"no-image",content:"Podio"}:i.call(this):t==="i-ua"?!!this.elem==0?[";(function(d,e,c,r){","e=d.documentElement;",'c="className";','r="replace";','e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");','if(d.compatMode!="CSS1Compat")','e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")',"})(document);"].join(""):i.call(this):i.call(this)}return t==="mix"?this.block==="b-page"?!!this.elem==0?[{elem:"body"}]:c.call(this):c.call(this):t==="xUACompatible"?this.block==="b-page"?!!this.elem==0?this.ctx["x-ua-compatible"]===!1?!1:{tag:"meta",attrs:{"http-equiv":"X-UA-Compatible",content:this.ctx["x-ua-compatible"]||"IE=edge"}}:h.call(this):h.call(this):t==="doctype"?this.block==="b-page"?!!this.elem==0?this.ctx.doctype||"<!DOCTYPE html>":h.call(this):h.call(this):t==="jsAttr"||t==="js"?undefined:t==="cls"?this.block==="b-page"?this.elem==="root"?"i-ua_js_no i-ua_css_standard":l.call(this):l.call(this):h.call(this)}function r(){return undefined}function i(){return this.ctx.content}function s(){return undefined}function o(){return undefined}function u(){var e=this,t=this.ctx.ie;if(t===!0){"";var r=this._mode;this._mode="";var i=this.ctx;this.ctx=[6,7,8,9].map(function(e){return{elem:"css",url:this.ctx.url+".ie"+e+".css",ie:"IE "+e}},this),n.call(e),this._mode=r,this.ctx=i,"",undefined}else{var s=t?t==="!IE"?[t,"<!-->","<!--"]:[t,"",""]:["gt IE 9","<!-->","<!--"];"";var o=this._mode;this._mode="";var u=this.ctx,a=u._ieCommented;u._ieCommented=!0;var f=this.ctx;this.ctx=["<!--[if "+s[0]+"]>",s[1],this.ctx,s[2],"<![endif]-->"],n.call(e),this._mode=o,u._ieCommented=a,this.ctx=f,"",undefined}return}function a(){return this.__$anflg===899699202==0?!!this.elem==0?f.call(this):h.call(this):h.call(this)}function f(){var e=this,t,r,i,s,o=this.ctx,u=("",t=this._mode,this._mode="doctype",r=n.call(e),this._mode=t,"",r),a=("",i=this._mode,this._mode="xUACompatible",s=n.call(e),this._mode=i,"",s),f=[u,{elem:"root",content:[{elem:"head",content:[{tag:"meta",attrs:{charset:"utf-8"}},a,{tag:"title",content:o.title},o.favicon?{elem:"favicon",url:o.favicon}:"",o.meta,{block:"i-ua"},o.head]},o]}];"";var l=this.__$anflg;this.__$anflg=899699202,"";var c=this.ctx;this.ctx=f;var h=this._mode;this._mode="",n.call(e),this.ctx=c,this._mode=h,"",this.__$anflg=l,"",undefined;return}function l(){return undefined}function c(){return undefined}function h(){return!this.ctx==0?!this.ctx.link==0?!!this._.isSimple(this.ctx)==0?p.call(this):d.call(this):d.call(this):d.call(this)}function p(){function s(){if(this.ctx.link==="no-follow")return undefined;undefined;var e=this._links[this.ctx.link];return"",r=this.ctx,this.ctx=e,i=n.call(t),this.ctx=r,"",i}var t=this,r,i;if(!e||!this._cacheLog)return s.call(this);undefined;var o=this._buf.slice(this._cachePos).join("");this._cachePos=this._buf.length,this._cacheLog.push(o,{log:this._localLog.slice(),link:this.ctx.link});var u=s.call(this);return this._cachePos=this._buf.length,u}function d(){return!e==0?!this.ctx==0?!this.ctx.cache==0?v.call(this):m.call(this):m.call(this):m.call(this)}function v(){function i(e,t,n){if(t.length===0)return undefined;undefined;if(Array.isArray(n)){var r=e;for(var i=0;i<n.length-1;i++)r=r[n[i]];n=r[n[i]]}else undefined;var s=e,o;for(var i=0;i<t.length-1;i++)s=s[t[i]];return o=s[t[i]],s[t[i]]=n,o}var t=this,r;if(r=e.get(this.ctx.cache)){for(var s=0;s<r.log.length;s++){if(typeof r.log[s]=="string"){this._buf.push(r.log[s]);continue}undefined;var o=r.log[s],u;u=o.log.map(function(e){return{key:e[0],value:i(this,e[0],e[1])}},this).reverse(),"";var a=this.ctx,f=a.cache;a.cache=null;var l=this._cacheLog;this._cacheLog=null;var c=this.ctx,h=c.link;c.link=o.link,n.call(t),a.cache=f,this._cacheLog=l,c.link=h,"",undefined,u.forEach(function(e){i(this,e.key,e.value)},this)}return r.res}undefined;var p=[],d;"";var v=this.ctx,m=v.cache;v.cache=null;var g=this._cachePos;this._cachePos=this._buf.length;var y=this._cacheLog;this._cacheLog=p;var b=this._localLog;this._localLog=[],d=n.call(t);var w=this._buf.slice(this._cachePos).join("");return w?p.push(w):undefined,v.cache=m,this._cachePos=g,this._cacheLog=y,this._localLog=b,"",e.set(this.ctx.cache,{log:p,res:d}),d}function m(){if(this._mode==="default")return g.call(this);if(!this._.isSimple(this.ctx)==0){if(!!this._mode==0){this._listLength--;var e=this.ctx;(e&&e!==!0||e===0)&&this._buf.push(e);return}return y.call(this)}return y.call(this)}function g(){var e=this,t,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S=this,x=S.BEM,T=this.ctx,N=this._buf,C;C=("",r=this._mode,this._mode="tag",h=n.call(e),this._mode=r,"",h),typeof C!="undefined"||(C=T.tag),typeof C!="undefined"||(C="div");if(C){var k,L;this.block&&T.js!==!1?(L=("",i=this._mode,this._mode="js",s=n.call(e),this._mode=i,"",s),L=L?this._.extend(T.js,L===!0?{}:L):T.js===!0?{}:T.js,L&&((k={})[x.INTERNAL.buildClass(this.block,T.elem)]=L)):undefined,N.push("<",C);var A=("",o=this._mode,this._mode="bem",u=n.call(e),this._mode=o,"",u);typeof A!="undefined"||(A=typeof T.bem!="undefined"?T.bem:T.block||T.elem);var O=("",a=this._mode,this._mode="cls",f=n.call(e),this._mode=a,"",f);O||(O=T.cls);var M=T.block&&k;if(A||O){N.push(' class="');if(A){x.INTERNAL.buildClasses(this.block,T.elem,T.elemMods||T.mods,N);var _=("",l=this._mode,this._mode="mix",c=n.call(e),this._mode=l,"",c);T.mix&&(_=_?_.concat(T.mix):T.mix);if(_){var D={};function P(e,t){return(e||"")+"__"+(t||"")}D[P(this.block,this.elem)]=!0,this._.isArray(_)?undefined:_=[_];for(var H=0;H<_.length;H++){var B=_[H],j=B.block||B.elem,F=B.block||B._block||S.block,I=B.elem||B._elem||S.elem;j&&N.push(" "),x.INTERNAL[j?"buildClasses":"buildModsClasses"](F,B.elem||B._elem||(B.block?undefined:S.elem),B.elemMods||B.mods,N),B.js?((k||(k={}))[x.INTERNAL.buildClass(F,B.elem)]=B.js===!0?{}:B.js,M||(M=F&&!B.elem)):undefined;if(j&&!D[P(F,I)]){D[P(F,I)]=!0;var q=("",t=this.block,this.block=F,p=this.elem,this.elem=I,d=this._mode,this._mode="mix",v=n.call(e),this.block=t,this.elem=p,this._mode=d,"",v);if(q)for(var R=0;R<q.length;R++){var U=q[R];!U.block&&!U.elem||!D[P(U.block,U.elem)]?(U._block=F,U._elem=I,_.splice(H+1,0,U)):undefined}else undefined}else undefined}}else undefined}else undefined;O&&N.push(A?" ":"",O),M&&N.push(" i-bem"),N.push('"')}else undefined;if(k){var z=("",m=this._mode,this._mode="jsAttr",g=n.call(e),this._mode=m,"",g);N.push(" ",z||"onclick",'="return ',this._.attrEscape(JSON.stringify(k)),'"')}else undefined;var W=("",y=this._mode,this._mode="attrs",b=n.call(e),this._mode=y,"",b);W=this._.extend(W,T.attrs);if(W){var X;for(X in W){if(W[X]===undefined)continue;undefined,N.push(" ",X,'="',this._.attrEscape(W[X]),'"')}}else undefined}else undefined;if(this._.isShortTag(C))N.push("/>");else{C&&N.push(">");var V=("",w=this._mode,this._mode="content",E=n.call(e),this._mode=w,"",E);if(V||V===0){var A=this.block||this.elem;"";var $=this._notNewList;this._notNewList=!1;var J=this.position;this.position=A?1:this.position;var K=this._listLength;this._listLength=A?1:this._listLength;var Q=this.ctx;this.ctx=V;var G=this._mode;this._mode="",n.call(e),this._notNewList=$,this.position=J,this._listLength=K,this.ctx=Q,this._mode=G,"",undefined}else undefined;C&&N.push("</",C,">")}return}function y(){if(!!this._mode==0){if(!!this.ctx==0){this._listLength--;return}return b.call(this)}return b.call(this)}function b(){var e=this;if(!this._.isArray(this.ctx)==0){if(!!this._mode==0){var t=this.ctx,r=t.length,i=0,s=this.position,o=this._notNewList;o?this._listLength+=r-1:(this.position=0,this._listLength=r),this._notNewList=!0;while(i<r){"";var u=this.ctx;this.ctx=t[i++],n.call(e),this.ctx=u,""}undefined,o||(this.position=s);return}return w.call(this)}return w.call(this)}function w(){return!!this._mode==0?E.call(this):S.call(this)}function E(){var e=this,t=this.ctx.block,r=this.ctx.elem,i=this._currBlock||this.block;this.ctx||(this.ctx={}),"";var s=this._mode;this._mode="default";var o=this._links;this._links=this.ctx.links||this._links;var u=this.block;this.block=t||(r?i:undefined);var a=this._currBlock;this._currBlock=t||r?undefined:i;var f=this.elem;this.elem=this.ctx.elem;var l=this.mods;this.mods=(t?this.ctx.mods:this.mods)||{};var c=this.elemMods;this.elemMods=this.ctx.elemMods||{},this.block||this.elem?this.position=(this.position||0)+1:this._listLength--,n.call(e),undefined,this._mode=s,this._links=o,this.block=u,this._currBlock=a,this.elem=f,this.mods=l,this.elemMods=c,"";return}function S(){throw new Error}return!function(){function o(e,t){this.ctx=e,this.apply=t,this._buf=[],this._=this,this._start=!0,this._mode="",this._listLength=0,this._notNewList=!1,this.position=0,this.block=undefined,this.elem=undefined,this.mods=undefined,this.elemMods=undefined}var e={},r=Object.prototype.toString,i={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};(function(e,t){function s(e,t,r){r.push(n,e,n,t)}function o(e,t,n,r){r.push(e),n&&s(t,n,r)}function u(e,n,i,u,a){o(e,t,t,a),a.push(r,n),u&&s(i,u,a)}var n="_",r="__",i="[a-zA-Z0-9-]+";e.INTERNAL={NAME_PATTERN:i,MOD_DELIM:n,ELEM_DELIM:r,buildModPostfix:function(e,t,n){var r=n||[];return s(e,t,r),n?r:r.join("")},buildClass:function(e,n,r,i,s){var a=typeof r;a=="string"?typeof i!="string"?(s=i,i=r,r=n,n=t):t:a!="undefined"?(s=r,r=t):n&&typeof n!="string"?(s=n,n=t):t;if(!(n||r||s))return e;t;var f=s||[];return n?u(e,n,r,i,f):o(e,r,i,f),s?f:f.join("")},buildModsClasses:function(e,n,r,i){var s=i||[];if(r){var a;for(a in r){if(!r.hasOwnProperty(a))continue;t;var f=r[a];if(f==null)continue;t,f=r[a]+"";if(!f)continue;t,s.push(" "),n?u(e,n,a,f,s):o(e,a,f,s)}}else t;return i?s:s.join("")},buildClasses:function(e,n,r,i){var s=i||[];return n?u(e,n,t,t,s):o(e,t,t,s),this.buildModsClasses(e,n,r,i),i?s:s.join("")}}})(e);var s=function(){var e={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},t=function(t){return e[t]||t};return function(e){return e=new RegExp(e,"g"),function(n){return(""+n).replace(e,t)}}}();o.prototype.isArray=function(t){return r.call(t)==="[object Array]"},o.prototype.isSimple=function(t){var n=typeof t;return n==="string"||n==="number"||n==="boolean"},o.prototype.isShortTag=function(t){return i.hasOwnProperty(t)},o.prototype.extend=function(t,n){if(!t||!n)return t||n;undefined;var r={},i;for(i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r},o.prototype.identify=function(){var t=0,n=e.__id=+(new Date),r="__"+n,i=function(){return"uniq"+n+ ++t};return function(e,t){return e?(undefined,t||e[r]?e[r]:e[r]=i()):i()}}(),o.prototype.xmlEscape=s("[&<>]"),o.prototype.attrEscape=s('["&<>]'),o.prototype.BEM=e,o.prototype.isFirst=function(){return this.position===1},o.prototype.isLast=function(){return this.position===this._listLength},o.prototype.generateId=function(){return this.identify(this.ctx)},t.apply=o.apply=function(){var t=new o(this,n);return t.apply(),t._buf.join("")}}(),t}(typeof exports=="undefined"?{}:exports);return function(n){return n||(n={}),e=n.cache,t.apply.call([this])}}();typeof exports=="undefined"||(exports.BEMHTML=BEMHTML)